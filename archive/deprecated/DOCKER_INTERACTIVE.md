# üê≥ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å Docker

–ü–æ—Å–∫–æ–ª—å–∫—É –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º –≤ —Å–∏—Å—Ç–µ–º–µ (–æ—Å–æ–±–µ–Ω–Ω–æ —á–µ—Ä–µ–∑ Cursor), –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Docker –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Pyrogram –≤ Docker
```bash
make docker-pyro-auth
# –∏–ª–∏
./scripts/docker-pyro-auth.sh
```

### 2. –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
```bash
# –í–æ–π—Ç–∏ –≤ –æ–±–æ–ª–æ—á–∫—É –ª—é–±–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
make docker-shell
# –í—ã–±—Ä–∞—Ç—å: 1) bot, 2) pyro-worker, 3) api

# –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é:
./scripts/docker-shell.sh bot    # –¥–ª—è –±–æ—Ç–∞
./scripts/docker-shell.sh pyro   # –¥–ª—è Pyrogram –≤–æ—Ä–∫–µ—Ä–∞
./scripts/docker-shell.sh api    # –¥–ª—è API —Å–µ—Ä–≤–µ—Ä–∞
```

### 3. Development —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
./scripts/docker-dev.sh start bot     # –ó–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ
./scripts/docker-dev.sh start pyro    # –ó–∞–ø—É—Å—Ç–∏—Ç—å Pyrogram –≤–æ—Ä–∫–µ—Ä –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ
./scripts/docker-dev.sh start api     # –ó–∞–ø—É—Å—Ç–∏—Ç—å API —Å–µ—Ä–≤–µ—Ä –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ

# –í–æ–π—Ç–∏ –≤ –æ–±–æ–ª–æ—á–∫—É –∑–∞–ø—É—â–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
./scripts/docker-dev.sh shell bot     # –í–æ–π—Ç–∏ –≤ –±–æ—Ç
./scripts/docker-dev.sh shell pyro    # –í–æ–π—Ç–∏ –≤ Pyrogram –≤–æ—Ä–∫–µ—Ä

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤—Å–µ dev —Å–µ—Ä–≤–∏—Å—ã
./scripts/docker-dev.sh stop
```

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Python
./scripts/docker-run-command.sh bot python --version

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–∞–∫–µ—Ç—ã
./scripts/docker-run-command.sh bot pip install requests

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
./scripts/docker-run-command.sh bot python -m pytest

# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
./scripts/docker-run-command.sh bot tail -f *.log
```

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Pyrogram
```bash
# 1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
make docker-pyro-auth

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Å—Å–∏–∏
./scripts/docker-run-command.sh pyro ls -la *.session

# 3. –ó–∞–ø—É—Å–∫ –≤–æ—Ä–∫–µ—Ä–∞
./scripts/docker-dev.sh start pyro
```

## üéØ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å venv

### –ü—Ä–æ–±–ª–µ–º–∞: venv –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Å–∏—Å—Ç–µ–º–µ
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:

```bash
# –í–º–µ—Å—Ç–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ venv
source venv/bin/activate

# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
./scripts/docker-dev.sh start bot
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
**–†–µ—à–µ–Ω–∏–µ:** –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:

```bash
# –í–æ–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
./scripts/docker-dev.sh shell bot

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç—ã
pip install –Ω–æ–≤—ã–π_–ø–∞–∫–µ—Ç

# –û–±–Ω–æ–≤–∏—Ç–µ requirements.txt –≤ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–µ
pip freeze > requirements.txt

# –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –æ–±—Ä–∞–∑
./scripts/docker-dev.sh build
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù—É–∂–Ω–æ –æ—Ç–ª–∞–¥–∏—Ç—å –∫–æ–¥
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º:

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ
./scripts/docker-dev.sh start bot

# –í –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:
python -c "import pdb; pdb.set_trace(); import your_module"
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

### Production —Ä–µ–∂–∏–º
- `docker-compose.yml` - –ü—Ä–æ–¥–∞–∫—à–Ω –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### Development —Ä–µ–∂–∏–º  
- `docker-compose.dev.yml` - Development –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
- –ú–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ –Ω–∞ –ª–µ—Ç—É

## üí° –°–æ–≤–µ—Ç—ã

1. **–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ development —Ä–µ–∂–∏–º** –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
2. **–ú–æ–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –≤–µ—Å—å –ø—Ä–æ–µ–∫—Ç**, –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ —Å—Ä–∞–∑—É –≤–∏–¥–Ω—ã –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
3. **–°–µ—Å—Å–∏–∏ Pyrogram —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –º–µ–∂–¥—É –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–º–∏
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ tmux/screen** –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
5. **–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è** –≤ —Ö–æ—Å—Ç-—Å–∏—Å—Ç–µ–º–µ

## üîÑ Workflow —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Pyrogram (–æ–¥–∏–Ω —Ä–∞–∑):
   ```bash
   make docker-pyro-auth
   ```

2. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:
   ```bash
   ./scripts/docker-dev.sh start bot
   # –†–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–¥ –≤ IDE
   # –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–π—Ç–µ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ
   ```

3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
   ```bash
   ./scripts/docker-dev.sh start pyro
   # –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ Pyrogram —Ñ—É–Ω–∫—Ü–∏–∏
   ```

4. Production –∑–∞–ø—É—Å–∫:
   ```bash
   make start-docker
   ```

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Å—Ä–µ–¥–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤ Docker! üöÄ 