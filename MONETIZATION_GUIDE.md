# üí∞ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ Cyberkitty19 Transkribator

## üéØ –û–±–∑–æ—Ä —Å–∏—Å—Ç–µ–º—ã

Cyberkitty19 Transkribator —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ —Å:
- 3 —Ç–∞—Ä–∏—Ñ–Ω—ã–º–∏ –ø–ª–∞–Ω–∞–º–∏ (–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π, PRO, UNLIMITED)
- –ü–æ–¥—Å—á–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö –º–∏–Ω—É—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏
- API –∫–ª—é—á–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –õ–∏–º–∏—Ç—ã –ø–æ —Ä–∞–∑–º–µ—Ä—É —Ñ–∞–π–ª–æ–≤ –∏ –≤—Ä–µ–º–µ–Ω–∏

## üìä –¢–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã

### üÜì –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω
- **–¶–µ–Ω–∞:** 0 ‚ÇΩ
- **–õ–∏–º–∏—Ç:** 3 –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –≤ –º–µ—Å—è—Ü
- **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤:** –¥–æ 50 –ú–ë
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –ë–∞–∑–æ–≤–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è

### üíé PRO
- **–¶–µ–Ω–∞:** 299 ‚ÇΩ / –º–µ—Å—è—Ü
- **–õ–∏–º–∏—Ç:** 600 –º–∏–Ω—É—Ç –≤ –º–µ—Å—è—Ü (10 —á–∞—Å–æ–≤)
- **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤:** –¥–æ 500 –ú–ë
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞, **API –¥–æ—Å—Ç—É–ø**, —ç–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–∞—Ö

### üöÄ UNLIMITED
- **–¶–µ–Ω–∞:** 699 ‚ÇΩ / –º–µ—Å—è—Ü
- **–õ–∏–º–∏—Ç:** –ë–µ–∑–ª–∏–º–∏—Ç–Ω–æ
- **–†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–æ–≤:** –¥–æ 2 –ì–ë
- **–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:** –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π API, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7

## ü§ñ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- `/start` - –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–æ—Ñ–∏–ª–µ
- `/plans` - –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö —Ç–∞—Ä–∏—Ñ–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤
- `/stats` - –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `/api` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞–º–∏ (–¥–ª—è –ø–ª–∞–Ω–æ–≤ Pro+)
- `/help` - –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞

### –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
- **üìä –ú–æ–∏ –ø–ª–∞–Ω—ã** - –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –ø–æ–∫—É–ø–∫–∞ –ø–ª–∞–Ω–æ–≤
- **üîë API –∫–ª—é—á–∏** - –°–æ–∑–¥–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏
- **üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –ü—Ä–æ—Å–º–æ—Ç—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –∏—Å—Ç–æ—Ä–∏–∏

## üîë API —Å–∏—Å—Ç–µ–º–∞

### –î–æ—Å—Ç—É–ø –∫ API
- API –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞—á–∏–Ω–∞—è —Å **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∞**
- –ö–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —Å–æ–∑–¥–∞—Ç—å –¥–æ **5 API –∫–ª—é—á–µ–π**
- –ö–ª—é—á–∏ –º–æ–∂–Ω–æ –∏–º–µ–Ω–æ–≤–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å —á–µ—Ä–µ–∑ –±–æ—Ç–∞

### –°–æ–∑–¥–∞–Ω–∏–µ API –∫–ª—é—á–∞
1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/api` –±–æ—Ç—É
2. –ù–∞–∂–º–∏—Ç–µ "‚ûï –°–æ–∑–¥–∞—Ç—å –∫–ª—é—á"
3. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π –∫–ª—é—á (–ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

**–ë–∞–∑–æ–≤—ã–π URL:** `http://localhost:8000`

**–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è:**
```bash
Authorization: Bearer YOUR_API_KEY
# –∏–ª–∏
X-API-Key: YOUR_API_KEY
# –∏–ª–∏ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä
?api_key=YOUR_API_KEY
```

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã API

#### GET /plans
–ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ç–∞—Ä–∏—Ñ–Ω—ã—Ö –ø–ª–∞–Ω–æ–≤
```bash
curl http://localhost:8000/plans
```

#### GET /user/info
–ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ (—Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á)
```bash
curl -H "Authorization: Bearer YOUR_API_KEY" \
     http://localhost:8000/user/info
```

#### POST /transcribe
–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ (—Ç—Ä–µ–±—É–µ—Ç API –∫–ª—é—á)
```bash
curl -X POST \
     -H "Authorization: Bearer YOUR_API_KEY" \
     -F "file=@video.mp4" \
     -F "format_with_llm=true" \
     http://localhost:8000/transcribe
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `file` - –≤–∏–¥–µ–æ/–∞—É–¥–∏–æ —Ñ–∞–π–ª
- `format_with_llm` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –ª–∏ —Ç–µ–∫—Å—Ç —Å –ø–æ–º–æ—â—å—é –ò–ò (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é true)

**–û—Ç–≤–µ—Ç:**
```json
{
  "task_id": "uuid",
  "filename": "video.mp4",
  "file_size_mb": 25.5,
  "audio_duration_minutes": 12.3,
  "raw_transcript": "—Å—ã—Ä–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è...",
  "formatted_transcript": "–æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è...",
  "transcript_length": 1500,
  "processing_time_seconds": 45.2,
  "formatted_with_llm": true
}
```

## üìà –°–∏—Å—Ç–µ–º–∞ –ª–∏–º–∏—Ç–æ–≤

### –ü–æ–¥—Å—á–µ—Ç –º–∏–Ω—É—Ç
- –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ä–∞–∑–º–µ—Ä—É –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞
- –ü—Ä–∏–º–µ—Ä–Ω–∞—è —Ñ–æ—Ä–º—É–ª–∞: `—Ä–∞–∑–º–µ—Ä_–ú–ë * 0.8 = –º–∏–Ω—É—Ç—ã`
- –¢–æ—á–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∞—É–¥–∏–æ

### –°–±—Ä–æ—Å –ª–∏–º–∏—Ç–æ–≤
- –ú–µ—Å—è—á–Ω—ã–µ –ª–∏–º–∏—Ç—ã —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –∫–∞–∂–¥—ã–µ 30 –¥–Ω–µ–π
- –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ –Ω–æ–≤–æ–≥–æ –ø–ª–∞–Ω–∞ –ª–∏–º–∏—Ç—ã —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- –ò—Å—Ç–æ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–æ–≤
- –õ–∏–º–∏—Ç—ã –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –ª–∏–º–∏—Ç—ã –∫–∞–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–∞–∫ –∏ API –∫–ª—é—á–∞
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –æ—à–∏–±–∫–∞ 429

## üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞
- **users** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∏—Ö –ø–ª–∞–Ω—ã
- **plans** - —Ç–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã
- **transcriptions** - –∏—Å—Ç–æ—Ä–∏—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–π
- **api_keys** - API –∫–ª—é—á–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **transactions** - –∏—Å—Ç–æ—Ä–∏—è –ø–ª–∞—Ç–µ–∂–µ–π (–¥–ª—è –±—É–¥—É—â–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

### –§–∞–π–ª –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- SQLite: `cyberkitty19-transkribator.db` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- –ú–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç—Å—è (–ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü)

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Docker
–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ `docker-compose.yml`:
```bash
docker-compose up -d
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps

# –õ–æ–≥–∏ –±–æ—Ç–∞
docker logs cyberkitty19-transkribator-bot

# –õ–æ–≥–∏ API
docker logs cyberkitty19-transkribator-api

# –¢–µ—Å—Ç API
curl http://localhost:8000/health
```

## üí≥ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø–ª–∞—Ç–µ–∂–µ–π

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
- –ü–ª–∞–Ω—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –¶–µ–Ω—ã —É–∫–∞–∑–∞–Ω—ã –≤ —Ä—É–±–ª—è—Ö –∏ –¥–æ–ª–ª–∞—Ä–∞—Ö
- –ú–æ–¥–µ–ª—å —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –≥–æ—Ç–æ–≤–∞

### –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç–µ–∂–µ–π
1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞—Ç–µ–∂–Ω—É—é —Å–∏—Å—Ç–µ–º—É (–ÆKassa, Stripe, etc.)
2. –î–æ–±–∞–≤–∏—Ç—å webhook –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ø–ª–∞—Ç–µ–∂–µ–π
3. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–∞–Ω–æ–≤
4. –î–æ–±–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏—Å—Ç–µ—á–µ–Ω–∏–∏ –ø–æ–¥–ø–∏—Å–∫–∏

## üîß –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
```python
from transkribator_modules.db.database import SessionLocal, UserService

db = SessionLocal()
user_service = UserService(db)

# –û–±–Ω–æ–≤–∏—Ç—å –ø–ª–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
user = user_service.get_or_create_user(telegram_id=123456789)
user_service.upgrade_user_plan(user, "pro")
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
sqlite3 cyberkitty19-transkribator.db

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
SELECT current_plan, COUNT(*) FROM users GROUP BY current_plan;

# –¢–æ–ø –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
SELECT telegram_id, total_minutes_transcribed 
FROM users 
ORDER BY total_minutes_transcribed DESC 
LIMIT 10;
```

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
docker logs cyberkitty19-transkribator-bot | grep "–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö"

# –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker-compose down && docker-compose up -d --build
```

**API –∫–ª—é—á–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–ª–∞–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–Ω—É–∂–µ–Ω Pro+)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –∞–∫—Ç–∏–≤–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏

**–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `/stats`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–µ—Å—è—á–Ω—ã–π –ª–∏–º–∏—Ç –Ω–µ —Å–±—Ä–æ—à–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–∏–º–∏—Ç—ã API –∫–ª—é—á–∞

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- **Telegram:** @kiryanovpro
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API:** http://localhost:8000/docs (Swagger UI)
- **–õ–æ–≥–∏:** `docker logs cyberkitty19-transkribator-bot` –∏ `docker logs cyberkitty19-transkribator-api`

---

*–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏–∏ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üéâ* 
